(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[784],{7973:(e,t,a)=>{Promise.resolve().then(a.bind(a,1600))},6648:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var s=a(5601),r=a.n(s)},7138:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var s=a(231),r=a.n(s)},5601:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return c}});let s=a(9920),r=a(497),l=a(8173),n=s._(a(1241));function c(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=l.Image},2435:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(7437);let r=e=>{let{itemsToAddToCollectionList:t,setItemsToAddToCollectionList:a,itemId:r}=e;return(0,s.jsx)("input",{type:"checkbox",className:"block h-8 aspect-square",checked:t.includes(r),onChange:()=>{t.includes(r)?a(t.filter(e=>e!==r)):a([...t,r])}})}},614:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(7437),r=a(1353),l=a(7138);let n=e=>{let{children:t,href:a,addClass:n=""}=e,c=(0,r.Z)("block bg-my-yellow w-60 h-[40px] mx-auto rounded-3xl overflow-hidden hover:opacity-80",n);return(0,s.jsx)(l.default,{href:a,className:c,children:(0,s.jsx)("p",{className:"py-2",children:t})})}},6323:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(7437),r=a(6648);let l=()=>(0,s.jsx)(r.default,{fill:!0,src:"/MonitorDecorationsImage.svg",alt:"モニターの台座・コード・びりびりマークの見た目を表現する画像です"}),n=()=>(0,s.jsx)(r.default,{fill:!0,src:"/PowerButtonImage.svg",alt:"電源ボタンの見た目を表現する画像です",className:"hidden X-tab:block row-start-3 col-start-6 col-end-7"}),c=e=>{let{headerContent:t,viewContent:a,naviContent:r,footerContent:c}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("section",{className:"".concat("grid relative w-full h-full rounded-[50px] bg-my-light-blue grid-rows-[40px_5fr_20px_4fr_40px] grid-cols-[20px_30px_1fr_30px_20px]"," ").concat("X-mob:grid-rows-[40px_1fr_40px] X-mob:grid-cols-[50px_5fr_20px_4fr_50px]"," ").concat("X-tab:h-[calc(100%-50px)] X-tab:grid-rows-[40px_1fr_40px] X-tab:grid-cols-[20px_5fr_54fr_20px_26fr_6fr_20px]"),children:[(0,s.jsx)("section",{className:"flex items-center justify-end col-start-3 col-end-4 X-tab:col-end-6 X-mob:col-start-4 X-mob:col-end-5",children:t}),(0,s.jsx)("section",{className:"".concat("bg-my-gray rounded-[32px] overflow-auto relative row-start-2 row-end-3 col-start-2 col-end-5"," X-tab:col-end-4 X-mob:col-end-3"),children:a}),(0,s.jsx)("section",{className:"".concat("bg-my-gray rounded-[32px] overflow-auto row-start-4 row-end-5 col-start-2 col-end-5"," ").concat("X-mob:row-start-2 X-mob:row-end-3 X-mob:col-start-4 X-mob:col-end-5"," ").concat("X-tab:row-start-2 X-tab:row-end-3 X-tab:col-start-5 X-tab:col-end-7"," "),children:r}),(0,s.jsx)("section",{className:"flex justify-end row-start-5 col-start-3 col-end-4 X-tab:row-start-3 X-tab:col-end-6 X-mob:row-start-1 X-mob:row-end-2 X-mob:col-start-2 X-mob:col-end-3",children:c}),(0,s.jsx)(n,{})]}),(0,s.jsx)("div",{className:"relative w-full h-[50px] hidden X-tab:block",children:(0,s.jsx)(l,{})})]})}},7463:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(7437),r=a(1353),l=a(7138);let n=e=>{let{children:t,href:a,addClass:n=""}=e,c=(0,r.Z)("max-w-[640px] min-h-[40px] bg-my-light-green pl-1 py-1 flex items-center justify-center rounded-3xl hover:opacity-80",n);return(0,s.jsx)(l.default,{href:a,className:c,children:(0,s.jsx)("p",{children:t})})}},2195:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(7437),r=a(1353);let l=e=>{let{children:t,addClass:a="",labelText:l}=e,n=(0,r.Z)("w-60 h-16 mx-auto select-none",a);return(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("p",{className:"h-6",children:l}),(0,s.jsx)("p",{className:"py-2 h-[40px] bg-my-green rounded-3xl",children:t})]})}},9690:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(7437),r=a(614);let l=()=>(0,s.jsx)(r.Z,{href:"/",addClass:"w-[136px] mr-0 max-h-[32px] leading-none",children:"TOPへ"})},108:(e,t,a)=>{"use strict";a.d(t,{BJ:()=>o,FX:()=>r,QT:()=>m,RZ:()=>d,Rw:()=>l,SL:()=>n,cy:()=>s,f1:()=>c,jy:()=>i});let s=["series_name","character_name","item_name","tags","category_id","jan_code","release_date","retailers"],r={series:"item_series",character:"item_character",name:"item_name",tags:"tags",category:"category",janCode:"jan_code",releaseDate:"release_date",retailers:"retailers",image:"item_images"},l={name:"user_name",email:"email",pass1:"password1",pass2:"password2"},n=["image/png","image/jpg","image/jpeg"],c="(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",i={category_id:"dummy",category_name:"dummy",character_id:"dummy",series_id:"dummy",access_token:"dummy"},o="/no-image.svg",d={IMAGE_SIZE_TOO_LARGE:"画像のサイズが大きすぎます。\n1MB未満にしてください。",ITEM_CREATION_FAILED:"グッズの作成に失敗しました。\n再度お試しください。",CREATED_BUT_FAILED_TO_UPLOAD_IMAGE:"グッズは作成できましたが、画像の登録に失敗しました。\n再度お試しください。"},m={isPartialMatch:"部分一致検索",isListFormat:"小カンマ(,)で複数の指定",isDigits:"8桁 or 13桁の半角数字",noDuplication:"既存の名前と重複不可"}},7975:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(7437);let r=e=>{let{children:t}=e;return(0,s.jsx)("ul",{className:"h-[calc(100%-24px)] p-2 flex flex-col justify-around overflow-auto",children:t})}},7470:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(7437);let r=e=>{let{children:t}=e;return(0,s.jsx)("li",{className:"flex items-center justify-center mt-2 gap-2",children:t})}},6437:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(7437);let r=(e,t)=>{let a=[];return a.push(e>1?1:0),a.push(e>2?e-1:0),a.push(t-1>e?e+1:0),a.push(t>e?t:0),a};var l=a(1353);let n=(e,t,a)=>{t({currentPage:a,maxPage:e.maxPage})},c=e=>{let{children:t,addClass:a="",pageState:r,handleSetPageState:c,newCurrentPage:i,liClass:o}=e,d=(0,l.Z)("block h-6 bg-my-yellow rounded-full text-sm hover:opacity-80",a);return(0,s.jsx)("li",{className:o,children:(0,s.jsx)("button",{onClick:()=>n(r,c,i),className:d,children:(0,s.jsx)("p",{children:t})})})},i=e=>{let{pageState:t,handleSetPageState:a}=e,{currentPage:l,maxPage:n}=t,i=r(l,n),o=0===i[0]?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{addClass:"w-16",pageState:t,handleSetPageState:a,newCurrentPage:i[0],liClass:"col-start-2",children:"First"}),(0,s.jsx)("p",{className:"select-none col-start-3",children:"..."})]}),d=0===i[1]?null:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c,{addClass:"w-8",pageState:t,handleSetPageState:a,newCurrentPage:i[1],liClass:"col-start-4",children:i[1].toString()})}),m=0===i[2]?null:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c,{addClass:"w-8",pageState:t,handleSetPageState:a,newCurrentPage:i[2],liClass:"col-start-6",children:i[2].toString()})}),u=0===i[3]?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"select-none col-start-7",children:"..."}),(0,s.jsx)(c,{addClass:"w-20",pageState:t,handleSetPageState:a,newCurrentPage:i[3],liClass:"col-start-8",children:"Last.".concat(n)})]});return(0,s.jsxs)("ol",{className:"grid h-6 grid-cols-[1fr_120px_24px_repeat(3,48px)_24px_120px_1fr] [&>*]:mx-auto",children:[o,d,(0,s.jsx)("p",{className:"block w-8 h-6 bg-my-light-green rounded-full leading-relaxed text-sm select-none col-start-5",children:l}),m,u]})}},1600:(e,t,a)=>{"use strict";a.d(t,{default:()=>C});var s=a(7437),r=a(6323),l=a(2195),n=a(9690),c=a(108),i=a(1353);let o=e=>{let{children:t,addClass:a="",handleClick:r=()=>{}}=e,l=(0,i.Z)("block bg-my-orange mx-auto w-60 h-[40px] py-2 rounded-3xl text-center hover:opacity-80",a);return(0,s.jsx)("button",{className:l,onClick:r,type:"button",children:(0,s.jsx)("p",{children:t})})};var d=a(7975),m=a(7470),u=a(2265);let x=(e,t)=>{let a=(t-1)*9;return e.slice(a,a+9)};var h=a(6437);let g=e=>{let{children:t}=e;return(0,s.jsx)("span",{className:"tooltip-text",children:t})};var p=a(6648),j=a(7138);let f=e=>{let{itemId:t,imageUrl:a,itemName:r}=e;return(0,s.jsx)("li",{children:(0,s.jsxs)(j.default,{href:"/items/".concat(t),className:"tooltip",children:[(0,s.jsx)(p.default,{src:a,alt:"グッズの画像です",width:300,height:300,className:"hover:opacity-80"}),(0,s.jsx)(g,{children:"".concat(r,"の詳細を見る")})]})})},_=e=>{let{children:t}=e;return(0,s.jsx)("ul",{className:"h-[calc(100%-24px)] grid grid-cols-3 gap-2 p-2 overflow-y-auto",children:t})},b=e=>{let{pageState:t,handleSetPageState:a,itemImageIdList:r,itemImageUrlList:l}=e,n=r.map((e,t)=>{let[a,r]=Object.entries(e)[0],n=l[t];return(0,s.jsx)(f,{itemId:a,imageUrl:n,itemName:r},a)});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_,{children:n}),(0,s.jsx)(h.Z,{pageState:t,handleSetPageState:a})]})},w=async(e,t,a,s,r)=>{let l=new Headers({credentials:"include","Content-Type":"application/json"});await fetch("/api/list-items",{method:"DELETE",headers:l,body:JSON.stringify({listId:e,listItems:t})}).then(e=>{200===e.status?(r(s.filter(e=>{let[a]=Object.entries(e)[0];return!t.includes(a)})),a([])):alert("削除に失敗しました")})};var y=a(2435),v=a(7463);let N=e=>{let{itemId:t,itemName:a,itemsToRemoveToCollectionList:r,setItemsToRemoveToCollectionList:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,{href:"/items/".concat(t),addClass:"w-full",children:a}),(0,s.jsx)(y.Z,{itemsToAddToCollectionList:r,setItemsToAddToCollectionList:l,itemId:t})]})},C=e=>{let{listId:t,listDetail:a,maxPage:i}=e,[h,g]=(0,u.useState)(a),[p,j]=(0,u.useState)([]),[f,_]=(0,u.useState)(!1),[y,v]=(0,u.useState)({currentPage:1,maxPage:i}),[C,S]=(0,u.useState)([]),[X,Z]=(0,u.useState)([]);return(0,u.useEffect)(()=>{f&&(async()=>{let e=x(h,y.currentPage),t=[];for(let a of e){let[e]=Object.entries(a)[0],s=await fetch("/api/getImageUrl?endpoint=images/".concat(e)),r=200!==s.status?c.BJ:(await s.json()).split("localhost").join("57.180.44.232");t.push(r)}Z(t),S(e)})()},[y.currentPage,f]),(0,s.jsx)(r.Z,{headerContent:(0,s.jsx)(n.Z,{}),viewContent:(()=>{let e=f?null:h.map(e=>{let[t,a]=Object.entries(e)[0];return(0,s.jsx)(m.Z,{children:(0,s.jsx)(N,{itemId:t,itemName:a,itemsToRemoveToCollectionList:p,setItemsToRemoveToCollectionList:j})},t)});return f?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(b,{pageState:y,handleSetPageState:v,itemImageIdList:C,itemImageUrlList:X})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d.Z,{children:e})})})(),naviContent:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-around",children:[(0,s.jsx)(l.Z,{children:"コレクション一覧を表示中..."}),f?null:(0,s.jsx)(o,{handleClick:()=>w(t,p,j,h,g),children:"チェック項目をリストから削除"}),(0,s.jsx)(o,{handleClick:()=>_(!f),children:f?"リストビューに切り替え":"画像ビューに切り替え"})]})}),footerContent:!0})}},1353:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(e,t)=>""===e||""===t?"".concat(e).concat(t):"".concat(e," ").concat(t)}},e=>{var t=t=>e(e.s=t);e.O(0,[30,130,215,744],()=>t(7973)),_N_E=e.O()}]);